<template>
  <swiper class="main-swiper" vertical="true" indicator="false" loop="false">
    <div class="index">
      <div class="content">
        <text class="title">欢迎使用VelaBench</text>
        <text class="subtitle">Benchmark For Wear & IoT</text>
        <div
          class="main-btn {{ isProcessing ? 'btn-disabled' : 'btn-normal' }}"
          @click="routeDetail"
        >
          <text class="btn-text">{{ isProcessing ? "你先别急" : "运行性能测试" }}</text>
        </div>
        <text>\n</text>
        <div class="main-btn" style="background-color: #225beb" @click="routeGPU">
          <text class="btn-text" style="font-size: 28px">图形性能测试(预览版)</text>
        </div>
      </div>
      <div class="bottom-hint">
        <text class="hint-text">关于 VelaBench ↑</text>
      </div>
    </div>
    <div class="about">
      <text style="font-size: 50px; color: #ffffff">关于VelaBench</text>
      <text style="font-size: 50px"></text>
      <text class="commonText">VelaBench是一款适用于Xiaomi VelaOS的性能基准测试软件</text>
      <text class="commonText" style="color: orange; font-weight: bold">
        在GitHub上查看我们的项目
      </text>
      <text class="commonText">GitHub:YurizonoMika/VelaBench</text>
      <text class="hint-text">版本信息 ↑</text>
    </div>
    <div class="versionInfo">
      <text style="font-size:60px"></text>
      <div class="versionInfoContent" style="align-items: center">
        <image src="/common/logo.png" />
        <text class="title">VelaBench</text>
        <text class="commonText">主程序版本 {{ ver }}</text>
      </div>
      <text></text>
      <div class="versionInfoContent">
      <text class="title" style="font-size:30px;margin-left:30%">维护者：</text>
      </div>
        <div class="versionGalleryContent">
          <text style="font-size:20px"></text>
          <div class="gallery">
            <div class="photo">
              <image src="/common/main.jpg" class="images"/>
              <text class="commonText">YurizonoMika</text>
              <text class="commonText">主要开发者</text>
            </div>
            <div class="photo" style="margin-right:0px;margin-left:20px">
              <image src="/common/qcr.jpg" class="images"/>
              <text class="commonText">QcrTiMo</text>
              <text class="commonText">前端糕手</text>
            </div>
          </div>
        </div>
    </div>
  </swiper>
</template>

<script>
import router from "@system.router"
import app from "@system.app"
var AppInfo = app.getInfo()
var currentVersion = AppInfo.versionName
export default {
  private: {
    title: "VelaBench",
    isProcessing: false,
    ver: currentVersion
  },
  onInit() {
    global.runGC()
    console.log("Index Page Init")
  },
  onShow() {
    this.isProcessing = false
  },
  quitapp() {
    app.terminate()
  },
  routeDetail() {
    if (this.isProcessing) return
    this.isProcessing = true
    router.push({
      uri: "pages/detail",
      fail: () => {
        this.isProcessing = false
      }
    })
    setTimeout(() => {
      this.isProcessing = false
    }, 2000)
  },
  routeGPU() {
    console.log("click!")
    router.push({
      uri: "pages/gpu",
      fail: function (err) {
        console.log("error" + err.code)
      }
    })
  }
}
</script>

<style>
.main-swiper {
  inline-size: 100%;
  block-size: 100%;
  background-color: #000000;
}

.index {
  width: 100%;
  height: 100%;
  flex-direction: column;
}

.about {
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background-color: #000000;
  width: 100%;
  height: 100%;
}

.content {
  flex: 1;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding-top: 100px;
}

.title {
  font-weight:bold;
  font-size: 40px;
  color: #ffffff;
  margin-block-end: 10px;
}

.subtitle {
  font-size: 24px;
  color: #ffff00;
  margin-bottom: 40px;
}

.main-btn {
  width: 280px;
  height: 80px;
  border-radius: 40px;
  justify-content: center;
  align-items: center;
}
.btn-normal {
  background-color: #225beb;
}
.btn-disabled {
  background-color: #04102f;
}
.btn-text {
  font-size: 32px;
  color: #ffffff;
}

.bottom-hint {
  width: 100%;
  height: 80px;
  justify-content: center;
  align-items: center;
  margin-bottom: 20px;
}
.versionInfo {
  flex-direction: column;
  background-color: #000000;
  justify-content: center;
  align-content: center;
  width: 100%;
  height: 100%;
}
.versionInfoContent {
  width:100%;
  flex-direction: column;
  background-color: #000000;
}
.versionGalleryContent {
  flex-direction: column;
  background-color: #000000;
  justify-items: center;
  align-items: center;
}
.hint-text {
  font-weight: bold;
  position: absolute;
  bottom: 5%;
  justify-items: flex-end;
  flex-direction: column;
  font-size: 22px;
  color: #444444;
}
.commonText {
  font-size: 25px;
  text-align: center;
  color: #ffffff;
}
.gallery{
  height:60%;
  align-items: center;
  flex-direction: row;
}
.photo{
  margin-right:20px;
  justify-items: center;
  flex-direction: column;
  align-items: center;
}
.images{
  width:100px;
  height:100px;
  border-radius: 50px;
  object-fit:scale-down;
  justify-items: center;
  align-items: center;
}
</style>
